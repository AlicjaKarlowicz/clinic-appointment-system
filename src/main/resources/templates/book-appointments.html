<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="QBOOTSTRAP.COM">


    <title>MedClinic</title>

        <link th:href="@{https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700}" rel="stylesheet"/>
        <link th:href="@{https://fonts.googleapis.com/css?family=Montserrat:300,400,700}" rel="stylesheet"/>

    <!-- Animate.css -->
    <link rel="stylesheet" th:href="@{/css/animate.css}"/>
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" th:href="@{/css/icomoon.css}"/>
    <!-- Bootstrap  -->
    <link rel="stylesheet"href="../css/bootstrap.css" th:href="@{/css/bootstrap.css}"/>
    <!-- Magnific Popup -->
    <link rel="stylesheet" th:href="@{/css/magnific-popup.css}"/>
    <!-- Owl Carousel  -->
    <link rel="stylesheet" th:href="@{/css/owl.carousel.min.css}"/>
    <link rel="stylesheet" th:href="@{/css/fowl.theme.default.min.css}"/>
    <!-- Flexslider  -->
    <link rel="stylesheet" th:href="@{/css/flexslider.css}"/>
    <!-- Theme style  -->
    <link rel="stylesheet" href="../css/style.css" th:href="@{/css/style.css}"/>

    <!-- Modernizr JS -->
    <script th:src="@{/js/modernizr-2.6.2.min.js}"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script th:src="@{/js/respond.min.js}"></script>
    <![endif]-->


</head>

<body>
<div class="qbootstrap-loader"></div>

<div id="page">
    <nav class="qbootstrap-nav" role="navigation">
        <div class="top-menu">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="top">
                            <div class="row">
                                <div class="col-md-4 col-md-push-4 text-center">
                                    <div id="qbootstrap-logo"><a href="/index"><i class="icon-plus-outline"></i>Med<span>clinic</span></a></div>
                                </div>
                                <div class="col-md-4 col-md-pull-4">
                                    <div class="num">
                                        <span class="icon"><i class="icon-phone"></i></span>
                                        <p><a href="#">+48 111-222-333</a><br><a href="#">+48 99-222-333</a></p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="loc">
                                        <span class="icon"><i class="icon-location"></i></span>
                                        <p><a href="#">Street 1/2</a><br><a href="#">00-001 Warsaw</a></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 text-center">
                        <div class="menu-1">
                            <ul>
                                <li class="active"><a href="/index">Home</a></li>
                                <li><a href="services.html">Services</a></li>
                                <li class="has-dropdown">
                                    <a href="departments.html">Departments</a>
                                    <ul class="dropdown">
                                        <li><a href="#">Warsaw</a></li>
                                        <li><a href="#">Cracow</a></li>
                                    </ul>
                                </li>
                                <li class="has-dropdown">
                                    <a href="doctors.html">Doctors</a>
                                </li>
                                <li class="btn-cta" sec:authorize="isAuthenticated()"><a href="/appointments"><span>Account</span></a></li>
                                <li class="btn-cta" sec:authorize="isAuthenticated()"><a th:href="@{/logout}"><span>Logout</span></a></li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </nav>


    <div id="qbootstrap-contact">
        <div class="container">
        <div class="row animate-box">
            <div class="col-md-6 col-md-offset-3 text-center qbootstrap-heading">
                <h2>Book appointment</h2>
                <p>Choose doctor you want to visit, location and date.</p>
            </div>

            <div class="row">
                <div class="col-md-8 col-md-offset-2">

                 <form th:action="@{/bookappointment}" th:object="${appointmentForm}"  method="post">

            <div class="form-group">
                    <label >Choose clinic location</label>
                    <select  th:field = "*{location}" class="selectpicker form-control">
                        <option th:each="workplace:${workplaceList}" th:value="${workplace.id}" th:text="${workplace.workplaceName}" value=""/>
                    </select>

            </div>

            <div class="form-group">
                    <label>Choose doctor's specialization</label>
                    <select th:field = "*{specialization}" th:attr="min=${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}" class="selectpicker form-control">
                        <option th:each="specialization:${specializationList}" th:value="${specialization.id}" th:text="${specialization.specialization}" />
                    </select>
            </div>


            <div class="form-group">
                <label>Choose date</label>
<!--                    <div class="input-group date" data-provide="datepicker">-->
                        <input type="date" th:field = "*{date}" th:attr="min=${now}" class="form-control">
<!--                    </div>-->
            </div>

            <div class="row form-group"></div>
            <div class="row form-group"></div>

            <div class="form-group">
                    <button type="submit" class="btn btn-lg btn-primary btn-block">Check availbility</button>
                </div>

        </form>

                    <form th:action="@{/choosehour}" th:object="${availableAppointments}"  method="post">
                        <div th:if="${availableAppointments != null}">
                        <div th:if="${!availableAppointments.isEmpty()}">

                        <label>Choose hour</label>
                        <div class="form-group">

                            <tr th:each="app : ${availableAppointments}">
                                <td>
                                    <button type="submit" class="btn btn-lg btn-primary" th:name="id" th:value="${app.getId()}" th:text="${app.getStartTime()}" onClick="return confirm('Do you confirm appointment on this hour?')"></button>
                                </td>
                            </tr>
                        </div>

                        </div>
                        <div th:unless="${!availableAppointments.isEmpty()}">
                            <div class="alert alert-danger">No available appointments for these parameters. Please change the date or location and check again.</div>
                        </div>
                        </div>
                    </form>


                </div>
            </div>
        </div>
        </div>
    </div>


    <div class="row form-group"></div>
    <div class="row form-group"></div>
    <div class="row form-group"></div>

    <footer id="qbootstrap-footer" role="contentinfo">
        <div class="overlay"></div>
        <div class="container">
            <div class="row row-pb-md">
                <div class="col-md-3 qbootstrap-widget">
                    <h3>About</h3>
                    <p>Clinic close to home, just like home. By people for people. For better living. </p>
                </div>

                <div class="col-md-4 col-sm-4 col-xs-6 qbootstrap-widget">
                    <h3>Our Services</h3>
                    <ul class="qbootstrap-footer-links">
                        <li><a href="#">Cardiologic treatment</a></li>
                        <li><a href="#">Dermatologic treatment</a></li>
                        <li><a href="#">Gynaecologic treatment</a></li>
                        <li><a href="#">Neurologic treatment</a></li>
                        <li><a href="#">Dermatologic treatment</a></li>
                        <li><a href="#">ENT treatment</a></li>
                    </ul>
                </div>



                <div class="col-md-5 col-sm-4 col-xs-12 qbootstrap-widget">
                    <h3>Let's Talk</h3>
                    <form class="contact-form">
                        <div class="form-group">
                            <label for="name" class="sr-only">Name</label>
                            <input type="name" class="form-control" id="name" placeholder="Name">
                        </div>
                        <div class="form-group">
                            <label for="email" class="sr-only">Email</label>
                            <input type="email" class="form-control" id="email" placeholder="Email">
                        </div>
                        <div class="form-group">
                            <label for="message" class="sr-only">Message</label>
                            <textarea class="form-control" id="message" rows="3" placeholder="Message"></textarea>
                        </div>
                        <div class="form-group">
                            <input type="submit" id="btn-submit" class="btn btn-primary btn-send-message btn-md" value="Send Message">
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="row copyright">
            <div class="col-md-12 text-center">
                <p>
                    <small class="block">&copy; 2017 Free HTML5. All Rights Reserved.</small>
                    <small class="block">Designed by <a href="https://qbootstrap.com/" target="_blank">QBootstrap.com</a> Avaiable on <a href="https://themefisher.com/free-bootstrap-templates" class="">Themefisher.com</a></small>
                </p>
            </div>
        </div>
    </footer>
</div>

<div class="gototop js-top">
    <a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
</div>

<!-- jQuery -->
<script th:src="@{/js/jquery.min.js}"></script>
<!-- jQuery Easing -->
<script th:src="@{/js/jquery.easing.1.3.js}"></script>
<!-- Bootstrap -->
<script th:src="@{/js/bootstrap.min.js}"></script>
<!-- Waypoints -->
<script th:src="@{/js/jquery.waypoints.min.js}"></script>
<!-- Stellar Parallax -->
<script th:src="@{/js/jquery.stellar.min.js}"></script>
<!-- Carousel -->
<script th:src="@{/js/owl.carousel.min.js}"></script>
<!-- Flexslider -->
<script th:src="@{/js/jquery.flexslider-min.js}"></script>
<!-- countTo -->
<script th:src="@{/js/jquery.countTo.js}"></script>
<!-- Magnific Popup -->
<script th:src="@{/js/jquery.magnific-popup.min.js}"></script>
<script th:src="@{/js/magnific-popup-options.js}"></script>
<!-- Sticky Kit -->
<script th:src="@{/js/sticky-kit.min.js}"></script>
<!-- Main -->
<script th:src="@{/js/main.js}"></script>

</body>

</html>

